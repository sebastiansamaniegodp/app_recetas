<!-- ><ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      - MI JOPARA -
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="placeholder-container">
    <ion-icon name="bookmark-outline" class="placeholder-icon"></ion-icon>
    <h2>Colección</h2>
    <p>Aquí podrás ver y administrar todas tus recetas favoritas.</p>
    <p class="coming-soon">Próximamente</p>
  </div>
</ion-content> --> <!-- antes de modif -->

<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      - MI JOPARA -
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="collection-container">
    <!-- Mensaje cuando no hay favoritos -->
    <div *ngIf="favoriteRecipes.length === 0" class="placeholder-container">
      <ion-icon name="bookmark-outline" class="placeholder-icon"></ion-icon>
      <h2>Mi Colección</h2>
      <p>Aquí podrás ver y administrar todas tus recetas favoritas.</p>
      <p class="empty-message">
      Toca la <ion-icon name="star" color="warning"></ion-icon> en cualquier receta para agregarla
      </p>
    </div>

    <!-- Lista de recetas favoritas -->
    <div *ngIf="favoriteRecipes.length > 0" class="favorites-section">
      <div class="section-header">
        <h2>Mis Recetas Favoritas</h2>
        <ion-badge color="primary">{{ favoriteRecipes.length }}</ion-badge>
      </div>

      <div class="recipes-grid">
        <ion-card 
          *ngFor="let recipe of favoriteRecipes" 
          (click)="goToRecipeDetail(recipe.id)"
          class="recipe-card">
          
          <!-- Imagen de la receta (si existe) -->
          <div class="recipe-image" *ngIf="recipe.imagen">
            <img [src]="recipe.imagen" [alt]="recipe.nombre" />
          </div>
          
          <!-- Placeholder si no hay imagen -->
          <div class="recipe-image-placeholder" *ngIf="!recipe.imagen">
            <ion-icon name="restaurant"></ion-icon>
          </div>
          
          <!-- Botón de favorito -->
          <ion-button 
            fill="clear" 
            class="favorite-btn"
            (click)="removeFavorite(recipe, $event)">
            <ion-icon slot="icon-only" name="star" color="warning"></ion-icon>
          </ion-button>

          <ion-card-header>
            <ion-card-subtitle class="recipe-meta">
              <!-- Tiempo de preparación -->
              <span *ngIf="recipe.tiempoPreparacion">
                <ion-icon name="time-outline"></ion-icon>
                {{ recipe.tiempoPreparacion }} min
              </span>
              
              <!-- Calorías -->
              <span>
                <ion-icon name="flame-outline"></ion-icon>
                {{ recipe.infoNutricional.calorias }} kcal
              </span>
            </ion-card-subtitle>
            
            <ion-card-title>{{ recipe.nombre }}</ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <p class="recipe-description">{{ recipe.descripcion }}</p>
            
            <!-- Categorías -->
            <div class="categories">
              <ion-badge 
                *ngFor="let categoria of recipe.categorias.slice(0, 2)" 
                color="secondary">
                {{ categoria }}
              </ion-badge>
            </div>
          </ion-card-content>
        </ion-card>
      </div>
    </div>
  </div>
</ion-content>
